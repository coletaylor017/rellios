{"version":3,"file":"static/webpack/static/development/pages/index.js.189030c77beba2ff9d5e.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Piece from '../components/Piece';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport axios from 'axios';\n\nexport default class Index extends Component {\n    static async getInitialProps() {\n        let response;\n        try {\n            response = await axios.get(process.env.CRUD_API_URI + \"/pieces\");\n        }\n        catch (error) {\n            console.log(\"error fetching /pieces\");\n            console.log(error);\n        }\n        if (process.env.NODE_ENV === \"production\") {\n            console.log(\"production!\");\n            return {\n                pieces: response.data,\n                imageBaseUri: \"\"\n            }\n        }\n        console.log(\"dev!\");\n        return {\n            pieces: response.data,\n            imageBaseUri: \"http://localhost:1337\"\n        }\n    }\n    render() {\n        const pieces = this.props.pieces.map(piece =>\n            <Piece\n                key={piece._id}\n                title={piece.title}\n                imageSrc={this.props.imageBaseUri + piece.image.url}\n                description={piece.description}\n            />\n        );\n\n        return <Container className=\"mt-5\">\n            <Row className=\"text-center\">\n                {pieces}\n            </Row>\n        </Container>\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAuBA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;;;;;;;;AAlCA;AACA;;AADA;;;;;;;AAGA;AACA;AACA;;;;;;;AAEA;AACA;AACA;AACA;AAFA;AACA;;AAIA;AACA;AACA;AACA;AAFA;AACA;;;;;;;;;;;AAnBA;AACA;;;;;A","sourceRoot":""}