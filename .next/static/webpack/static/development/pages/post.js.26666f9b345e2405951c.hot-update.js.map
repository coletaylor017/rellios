{"version":3,"file":"static/webpack/static/development/pages/post.js.26666f9b345e2405951c.hot-update.js","sources":["webpack:///./pages/post.js"],"sourcesContent":["import React, { Component } from 'react';\nimport MarkdownView from 'react-showdown';\nimport Link from 'next/link';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport axios from 'axios';\n\nconst moment = require('moment');\n\nexport default class Post extends Component {\n\n    static async getInitialProps(ctx) {\n        let response;\n        try {\n            response = await axios.get(process.env.CRUD_API_URI + \"/posts/\" + ctx.query.id);\n        }\n        catch (error) {\n            console.log(\"error fetching /pieces\");\n            console.log(error);\n        }\n        return {\n            title: response.data.title,\n            date: response.data.createdAt,\n            body: response.data.body,\n            piece: response.data.piece\n        }\n    }\n\n    render() {\n        return <Container>\n            <Row>\n                <Col md={9} >\n                    <h2>{this.props.title}</h2>\n                    <p><i>{moment(this.props.date).format(\"MMMM D, YYYY\")}</i></p>\n                    <MarkdownView classname=\"blog-post\"\n                        markdown={this.props.body}\n                        options={{ simpleLineBreaks: true }}\n                    />\n                </Col>\n                {this.props.piece ?\n                    <Col className=\"text-center\" md={3} >\n                        <div className=\"py-5 px-2\" style={{ backgroundColor: \"rgb(0,0,0,0.03)\" }}>\n                            <h5><i><u>Featured in this post:</u></i></h5>\n                            <Link href={{ pathname: \"piece\", query: { id: this.props.piece._id } }}>\n                                <a className=\"hover-lighten\">\n                                    <Image fluid className=\"mx-auto mt-4 mb-3 w-75\" src={this.props.piece.image.url} />\n                                </a>\n                            </Link>\n                            <br />\n                            <Link href={{ pathname: \"piece\", query: { id: this.props.piece._id } }}>\n                                <a>{this.props.piece.title}</a>\n                            </Link>\n                        </div>\n                    </Col>\n                    : null\n                }\n            </Row>\n        </Container>\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAmBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;AA/CA;;;;;;;;AAGA;AACA;;AADA;;;;;;;AAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;;;;;;;;;;;AAZA;AACA;;;;;A","sourceRoot":""}