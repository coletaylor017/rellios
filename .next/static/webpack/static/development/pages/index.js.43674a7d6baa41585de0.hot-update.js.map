{"version":3,"file":"static/webpack/static/development/pages/index.js.43674a7d6baa41585de0.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Piece from '../components/Piece';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios';\n\nexport default class Index extends Component {\n    static async getInitialProps() {\n        let response;\n        try {\n            response = await axios.get(process.env.CRUD_API_URI + \"/pieces\");\n        }\n        catch (error) {\n            console.log(\"error fetching /pieces\");\n            console.log(error);\n        }\n        return {\n            pieces: response.data\n        }\n    }\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false\n        }\n        this.handleClose = this.handleClose.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n    }\n\n    handleClose() {\n        // this.setState(function (prevState) {\n        //     this.show = !prevState.show\n        // });\n        this.setState({\n            show: false\n        });\n    }\n\n    handleShow() {\n        this.setState({\n            show: true\n        });\n    }\n\n    render() {\n        const pieces = this.props.pieces.map(piece =>\n            <Piece\n                key={piece._id}\n                title={piece.title}\n                imageSrc={process.env.IMAGE_BASE_URI + piece.image.url}\n                description={piece.description}\n            />\n        );\n\n        return <Container>\n            <Row className=\"text-center\">\n                {pieces}\n            </Row>\n            <Button variant=\"primary\" onClick={handleShow}>\n                Launch demo modal\n      </Button>\n\n            <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Modal heading</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>Woohoo, you're reading this text in a modal!</Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n          </Button>\n                    <Button variant=\"primary\" onClick={handleClose}>\n                        Save Changes\n          </Button>\n                </Modal.Footer>\n            </Modal>\n        </Container>\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AAIA;AACA;;AADA;;;;;;;AAGA;AACA;AACA;;AACA;AACA;AADA;AACA;;;;;;;;;;AAGA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AANA;AAOA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AAvEA;AACA;;;;;A","sourceRoot":""}