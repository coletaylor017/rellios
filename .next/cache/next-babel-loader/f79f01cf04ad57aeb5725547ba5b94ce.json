{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/home/cole/dev-workspace/rellios-frontend/pages/piece.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport MarkdownView from 'react-showdown';\nimport Link from 'next/link';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image';\nimport axios from 'axios';\n\nvar moment = require('moment');\n\nvar Piece = /*#__PURE__*/function (_Component) {\n  _inherits(Piece, _Component);\n\n  var _super = _createSuper(Piece);\n\n  function Piece() {\n    _classCallCheck(this, Piece);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Piece, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(Container, {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 16\n        }\n      }, __jsx(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }\n      }, this.props.pieceData.title), this.props.pieceData.created ? __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }\n      }, __jsx(\"i\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }\n      }, \"Created on \", moment(this.props.pieceData.created).format(\"MMMM D, YYYY\"))) : null, __jsx(Image, {\n        style: {\n          maxWidth: \"80%\",\n          maxHeight: \"40em\"\n        },\n        fluid: true,\n        src: process.env.IMAGE_BASE_URI + this.props.pieceData.image.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }\n      }), __jsx(\"p\", {\n        className: \"mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }\n      }, this.props.pieceData.description), __jsx(Button, {\n        href: \"mailto:test@example.com?subject=I'm interested in purchasing your piece, \" + this.state.piece.title,\n        variant: \"outline-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }\n      }, \"Buy a Print\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(ctx) {\n      var response;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.get(process.env.CRUD_API_URI + \"/pieces/\" + ctx.query.id));\n\n            case 3:\n              response = _context.sent;\n              _context.next = 10;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"error fetching /pieces\");\n              console.log(_context.t0);\n\n            case 10:\n              return _context.abrupt(\"return\", {\n                pieceData: response.data\n              });\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    }\n  }]);\n\n  return Piece;\n}(Component);\n\nexport { Piece as default };","map":{"version":3,"sources":["/home/cole/dev-workspace/rellios-frontend/pages/piece.js"],"names":["React","Component","MarkdownView","Link","Container","Button","Image","axios","moment","require","Piece","props","pieceData","title","created","format","maxWidth","maxHeight","process","env","IMAGE_BASE_URI","image","url","description","state","piece","ctx","get","CRUD_API_URI","query","id","response","console","log","data"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;IAEqBC,K;;;;;;;;;;;;;6BAgBR;AACL,aAAO,MAAC,SAAD;AAAW,QAAA,SAAS,EAAC,aAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKC,KAAL,CAAWC,SAAX,CAAqBC,KAA1B,CADG,EAEF,KAAKF,KAAL,CAAWC,SAAX,CAAqBE,OAArB,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAeN,MAAM,CAAC,KAAKG,KAAL,CAAWC,SAAX,CAAqBE,OAAtB,CAAN,CAAqCC,MAArC,CAA4C,cAA5C,CAAf,CADJ,CADH,GAIK,IANH,EAQH,MAAC,KAAD;AAAO,QAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAE,KAAZ;AAAmBC,UAAAA,SAAS,EAAE;AAA9B,SAAd;AAAsD,QAAA,KAAK,MAA3D;AAA4D,QAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,cAAZ,GAA6B,KAAKT,KAAL,CAAWC,SAAX,CAAqBS,KAArB,CAA2BC,GAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARG,EASH;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqB,KAAKX,KAAL,CAAWC,SAAX,CAAqBW,WAA1C,CATG,EAUH,MAAC,MAAD;AAAQ,QAAA,IAAI,EAAE,8EAA8E,KAAKC,KAAL,CAAWC,KAAX,CAAiBZ,KAA7G;AAAoH,QAAA,OAAO,EAAC,iBAA5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAVG,CAAP;AAYH;;;oCA3B4Ba,G;;;;;;;;+CAGJnB,KAAK,CAACoB,GAAN,CAAUT,OAAO,CAACC,GAAR,CAAYS,YAAZ,GAA2B,UAA3B,GAAwCF,GAAG,CAACG,KAAJ,CAAUC,EAA5D,C;;;AAAjBC,cAAAA,Q;;;;;;;AAGAC,cAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAD,cAAAA,OAAO,CAACC,GAAR;;;+CAEG;AACHrB,gBAAAA,SAAS,EAAEmB,QAAQ,CAACG;AADjB,e;;;;;;;;;;;;EAXoBjC,S;;SAAdS,K","sourcesContent":["import React, { Component } from 'react';\nimport MarkdownView from 'react-showdown';\nimport Link from 'next/link';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image';\nimport axios from 'axios';\n\nconst moment = require('moment');\n\nexport default class Piece extends Component {\n\n    static async getInitialProps(ctx) {\n        let response;\n        try {\n            response = await axios.get(process.env.CRUD_API_URI + \"/pieces/\" + ctx.query.id);\n        }\n        catch (error) {\n            console.log(\"error fetching /pieces\");\n            console.log(error);\n        }\n        return {\n            pieceData: response.data\n        }\n    }\n\n    render() {\n        return <Container className=\"text-center\">\n            <h2>{this.props.pieceData.title}</h2>\n            {this.props.pieceData.created ?\n                <p>\n                    <i>Created on {moment(this.props.pieceData.created).format(\"MMMM D, YYYY\")}</i>\n                </p>\n                : null\n            }\n            <Image style={{ maxWidth: \"80%\", maxHeight: \"40em\" }} fluid src={process.env.IMAGE_BASE_URI + this.props.pieceData.image.url} />\n            <p className=\"mt-4\">{this.props.pieceData.description}</p>\n            <Button href={\"mailto:test@example.com?subject=I'm interested in purchasing your piece, \" + this.state.piece.title} variant=\"outline-primary\">Buy a Print</Button>\n        </Container>\n    }\n}\n"]},"metadata":{},"sourceType":"module"}